!function(e){angular.module("app",["weatherApp","clockApp"])}(window),function(e){var t=angular.module("clockApp",[]);t.directive("clock",["$interval","dateFilter",function(e,t){return{restricted:"E",scope:{format:"@?"},link:function(n,r){function a(){r.text(t(new Date,n.format))}void 0==n.format&&(n.format="h:mm a");var o;r.on("$destroy",function(){e.cancel(o)}),o=e(function(){a()},1e3),a()}}}])}(window),function(e){angular.module("weatherApp",["clockApp"])}(window),function(e){var t=angular.module("weatherApp");t.controller("WeatherCtrl",["weatherSrvc",function(e){var t=this;t.currentCity="Chicago",t.currentWeather="Sunny",t.currentTemp="70",t.update=function(n){e.getWeather(n).then(function(e){t.currentCity=e.city,t.currentWeather=e.main,t.currentTemp=e.temp})}}])}(window),function(e){var t=angular.module("weatherApp");t.filter("temperature",function(){return function(e){e=parseInt(e);var t=Math.round((e-32)*(5/9)),n=e+"°F / "+t+"°C";return n}})}(window),function(e){var t=angular.module("weatherApp");t.factory("weatherSrvc",["$http","$q",function(e,t){var n=function(n){var r="&APPID=a0d7e44cdb26abb996246b544a26f161",a="http://api.openweathermap.org/data/2.5/weather?q="+n+"&units=imperial"+r+"&callback=JSON_CALLBACK",o=t.defer(),c={};return e.jsonp(a).then(function(e){var t=e.data;console.dir(t),t?(c.city=t.name,t.weather[0]&&(console.log("yes"),c.main=t.weather[0].main),t.main&&(c.temp=t.main.temp)):console.log("no data"),o.resolve(c)},function(e){console.dir(e)}),o.promise};return{getWeather:n}}])}(window);